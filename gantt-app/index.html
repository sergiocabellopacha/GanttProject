<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjectFlow - Gestión de Proyectos</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-header">
        <div class="header-content">
            <div class="title-section">
                <h1 class="app-title">ProjectFlow</h1>
                <p class="app-subtitle">Gestión de proyectos con diagramas de Gantt</p>
            </div>
            <div class="toolbar-integrated">
                <div class="toolbar-left">
                    <div class="toolbar-section file-actions">
                        <button id="new-project" class="btn">Nuevo</button>
                        <button id="import-json" class="btn">Abrir</button>
                        <button id="export-json" class="btn">Guardar</button>
                        <button id="import-csv" class="btn">Abrir CSV</button>
                        <button id="export-csv" class="btn">Guardar CSV</button>
                    </div>
                    <div class="toolbar-section task-actions">
                        <button id="add-task" class="btn btn-primary">+ Añadir</button>
                        <button id="expand-all" class="btn">Expandir Todo</button>
                        <button id="collapse-all" class="btn">Colapsar Todo</button>
                        <button id="update-groups" class="btn">Actualizar fechas de grupos</button>
                    </div>
                </div>
                <div class="toolbar-right">
                    <div class="toolbar-section zoom-actions">
                        <button id="zoom-in" class="btn">Zoom +</button>
                        <button id="zoom-out" class="btn">Zoom -</button>
                        <button id="zoom-fit" class="btn">Ajustar</button>
                        <button id="about-btn" class="btn btn-info">About</button>
                    </div>
                </div>
            </div>
        </div>
        <input type="file" id="file-input" style="display:none" accept="application/json">
        <input type="file" id="csv-file-input" style="display:none" accept=".csv,text/csv">
    </div>

    <div class="gantt-wrapper">
        <div class="gantt-table">
            <div class="table-header">
                <div class="col-task-name">Nombre de Tarea</div>
                <div class="col-id">ID</div>
                <div class="col-start">Inicio</div>
                <div class="col-end">Fin</div>
                <div class="col-duration">Duración (Días Laborables)</div>
                <div class="col-progress">Progreso %</div>
                <div class="col-dependency">Dependencia</div>
                <div class="col-resource">Recursos</div>
                <div class="col-color">Color</div>
            </div>
            <div class="table-body" id="task-table-body">
                <!-- Tasks will be populated here -->
            </div>
        </div>

        <div class="gantt-chart">
            <div class="timeline-header" id="timeline-header">
                <!-- Timeline will be populated here -->
            </div>
            <div class="chart-body" id="chart-body">
                <!-- Chart bars will be populated here -->
            </div>
        </div>
    </div>

    <!-- Task Edit Modal -->
    <div id="task-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Editar Tarea</h2>
            <form id="task-form">
                <div class="form-row">
                    <label>Nombre: <input type="text" id="task-name" required></label>
                    <label>Color: 
                        <input type="color" id="task-color" value="#4a90e2" title="Seleccionar color de la tarea">
                    </label>
                </div>
                <div class="form-row">
                    <label>Tipo: 
                        <select id="task-type" onchange="toggleTaskFields()">
                            <option value="task">Tarea</option>
                            <option value="group">Grupo</option>
                        </select>
                    </label>
                    <label>Grupo Padre: 
                        <select id="task-parent">
                            <option value="">Ninguno (Raíz)</option>
                        </select>
                    </label>
                </div>
                <div class="form-row">
                    <label>Fecha Inicio: <input type="date" id="task-start" required onchange="validateWorkdayDate(this)"></label>
                    <label>Fecha Fin: <input type="date" id="task-end" required onchange="validateWorkdayDate(this)"></label>
                </div>
                <div class="form-row">
                    <label>Progreso: <input type="number" id="task-progress" min="0" max="100" value="0"></label>
                    <label>Recursos: <input type="text" id="task-resources" placeholder="Asignado a..."></label>
                </div>
                <label>Dependencias: <input type="text" id="task-dependencies" placeholder="IDs separados por comas"></label>
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">Guardar</button>
                    <button type="button" id="delete-task" class="btn btn-danger">Eliminar</button>
                    <button type="button" id="cancel-task" class="btn">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- About Modal -->
    <div id="about-modal" class="modal">
        <div class="modal-content about-modal-content">
            <span class="close about-close">&times;</span>
            <div class="about-header">
                <h2>Acerca de ProjectFlow</h2>
            </div>
            <div class="about-body">
                <div class="about-section">
                    <h3>Desarrollador</h3>
                    <p><strong>Sergio Cabello Pacha</strong></p>
                </div>
                
                <div class="about-section">
                    <h3>Contacto y Enlaces</h3>
                    <div class="links-container">
                        <a href="mailto:sergio.cabello.pacha@gmail.com" class="about-link">
                            <span class="link-icon">📧</span>
                            <span>sergio.cabello.pacha@gmail.com</span>
                        </a>
                        <a href="https://github.com/sergiocabellopacha/GanttProject" target="_blank" class="about-link">
                            <span class="link-icon">🔗</span>
                            <span>Repositorio GitHub</span>
                        </a>
                        <a href="https://www.linkedin.com/in/sergiocabellopacha/" target="_blank" class="about-link">
                            <span class="link-icon">💼</span>
                            <span>LinkedIn</span>
                        </a>
                    </div>
                </div>
                
                <div class="about-section">
                    <h3>Tecnologías</h3>
                    <p>Esta aplicación ha sido desarrollada con:</p>
                    <ul>
                        <li>HTML5, CSS3 y JavaScript vanilla</li>
                        <li>Asistencia de <strong>GitHub Copilot</strong></li>
                        <li>Asistencia de <strong>Claude Sonnet 4</strong></li>
                    </ul>
                </div>
                
                <div class="about-section">
                    <h3>Características</h3>
                    <ul>
                        <li>Diagramas de Gantt interactivos</li>
                        <li>Gestión de tareas y dependencias</li>
                        <li>Importación/Exportación JSON</li>
                        <li>Importación/Exportación CSV</li>
                        <li>Interfaz responsive y moderna</li>
                        <li>Gestión de recursos y progreso</li>
                    </ul>
                </div>
                
                <div class="about-section">
                    <h3>Versión</h3>
                    <p>v1.0.0 - Septiembre 2025</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
